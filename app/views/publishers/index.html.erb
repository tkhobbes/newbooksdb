<%= page_title('All Publishers','', 'heading2') %>

<%= render AbcNavigateComponent.new(
  model: 'Publisher',
  existing_scopes: current_scopes,
  sort_column: :name,
  current_letter: params[:letter]
  ) %>

<div class="flex">
  <%= link_to 'Add Publisher',
    new_publisher_path,
    class: 'button-color-accent margin-right-50 small'
  %>

  <%= link_to 'Reset sorting',
    publishers_path,
    class: 'button-color-secondary margin-right-50 small'
  %>

  <%= render SortComponent.new(
    model: 'Publisher',
    field: :name,
    existing_scopes: current_scopes
  ) %>

  <%= render SortComponent.new(
    model: 'Publisher',
    field: :location,
    existing_scopes: current_scopes
  ) %>

  <%= render SortComponent.new(
    model: 'Publisher',
    field: :created_at,
    existing_scopes: current_scopes
  ) %>

  <%= render SortComponent.new(
    model: 'Publisher',
    field: :updated_at,
    existing_scopes: current_scopes
  ) %>

  <%= render SortComponent.new(
    model: 'Publisher',
    field: :books_count,
    existing_scopes: current_scopes
  ) %>

</div>

<%= turbo_frame_tag 'page' %>

<div class="flexlist" id="publishers">
  <% @publishers.each do |publisher| %>
    <%= render 'publishercard', publisher: publisher  %>
  <% end %>
</div>

<%= render 'shared/pager', pagy: @pagy, model_path: publishers_path(page: @pagy.next, show: params[:show]) %>
